----------------------------------------------------------

  Connection Failed Report from
  Basic UDE Target Interface, Version: 1.10.4
  created: 03/14/13, 16:20:20

----------------------------------------------------------

Windows version:
  WinXP (Service Pack 3)
  Admin: yes

UDE version:
  Release:  3.03.05
  Build:    2517
  Path:     C:\Program Files\pls\UDE 4.0

Target configuration file:
  C:\ChibiStudio\chibios\demos\PPC-SPC564A-GCC\UDE\stm_xpc564a_minimodule_debug_jtag.cfg

Error messages:
  PpcJtagTargIntf: Can't connect target !
  PpcJtagTargIntf: Failed to access JTAG debug module !
  UDEDebugServer:  - serial no. -1 was suprised removed . To correct the situation, connect the communication device again and try to establish target communication.
  UDEDebugServer: Unable to establish connection . To correct the situation, check configuration file entries and try again.

Settings:
  PortType:  Default
  CommDevSel:  
  JtagViaPod:  n
  TargetPort:  Default
  JtagTapNumber:  0
  JtagNumOfTaps:  1
  JtagNumIrBefore:  0
  JtagNumIrAfter:  0
  MaxJtagClk:  5000
  AdaptiveJtagPhaseShift:  y
  JtagMuxPort:  -1
  JtagMuxWaitTime:  5
  JtagIoType:  Jtag
  EtksArbiterMode:  0
  ConnOption:  Default
  UseExtReset:  y
  ResetWaitTime:  50
  HaltAfterReset:  y
  ChangeJtagClk:  -1
  ExecInitCmds:  y
  InvalidateCache:  y
  ChangeMsr:  n
  ChangeMsrValue:  0x00000000
  ResetPulseLen:  10
  InitScript Script:
    
    // select TLB 1
    SETSPR 0x274 0x10000108 0xFFFFFFFF
    
    // programm peripheral B modules
    // TLB 1, entry 0
    SETSPR 0x270 0x10000000 0xFFFFFFFF
    // Valid, protect against invalidation, global entry, size=1MB
    SETSPR 0x271 0xC0000500 0xFFFFFFFF
    // effective page number FFF00000, I,G
    SETSPR 0x272 0xFFF0000A 0xFFFFFFFF
    // real page FFF00000, UX,SX,UW,SW,UR,SR
    SETSPR 0x273 0xFFF0003F 0xFFFFFFFF
    // execute TLB write instruction
    EXECOPCODE 0x7C0007A4
    
    // programm internal Flash, no cache because of flash
    // TLB 1, entry 1
    SETSPR 0x270 0x10010000 0xFFFFFFFF
    // Valid, protect against invalidation, global entry, size=16MB
    SETSPR 0x271 0xC0000700 0xFFFFFFFF
    // effective page number 00000000
    SETSPR 0x272 0x28 0xFFFFFFFF
    // real page 00000000, UX,SX,UW,SW,UR,SR
    SETSPR 0x273 0x3F 0xFFFFFFFF
    // execute TLB write instruction
    EXECOPCODE 0x7C0007A4
    
    // programm external memory
    // TLB 1, entry 2
    SETSPR 0x270 0x10020000 0xFFFFFFFF
    // Valid, protect against invalidation, global entry, size=16MB
    SETSPR 0x271 0xC0000700 0xFFFFFFFF
    // effective page number 20000000
    SETSPR 0x272 0x20000020 0xFFFFFFFF
    // real page 20000000, UX,SX,UW,SW,UR,SR
    SETSPR 0x273 0x2000003F 0xFFFFFFFF
    // execute TLB write instruction
    EXECOPCODE 0x7C0007A4
    
    // programm internal SRAM
    // TLB 1, entry 3
    SETSPR 0x270 0x10030000 0xFFFFFFFF
    // Valid, protect against invalidation, global entry, size=256k
    SETSPR 0x271 0xC0000400 0xFFFFFFFF
    // effective page number 40000000, I
    SETSPR 0x272 0x40000028 0xFFFFFFFF
    // real page 0x40000028, UX,SX,UW,SW,UR,SR
    SETSPR 0x273 0x4000003F 0xFFFFFFFF
    // execute TLB write instruction
    EXECOPCODE 0x7C0007A4
    
    // programm peripheral A modules
    // TLB 1, entry 4
    SETSPR 0x270 0x10040000 0xFFFFFFFF
    // Valid, protect against invalidation, global entry, size=1MB
    SETSPR 0x271 0xC0000500 0xFFFFFFFF
    // effective page number C3F00000, I
    SETSPR 0x272 0xC3F0000A 0xFFFFFFFF
    // real page C3F00000, UX,SX,UW,SW,UR,SR
    SETSPR 0x273 0xC3F0003F 0xFFFFFFFF
    // execute TLB write instruction
    EXECOPCODE 0x7C0007A4
    
    // cache invalidate
    SETSPR 0x3F3 0x00000003 0x00000003
    SETSPR 0x3F3 0x00000000 0x00000003
    
    // setup IVOPR
    // points to internal memory at 0x40000000
    SETSPR 0x3F 0x40000000 0xFFFFFFFF
    
    // disable watchdog
    SET SWT_SR 0x0000C520
    SET SWT_SR 0x0000D928
    SET SWT_MCR 0xFF00000A
    
    // setup clock to 120MHz
    SET 0xC3F80008 0xF000003C 0xF00F00FF
    WAIT 0x2
    SET 0xC3F8000C 0x00000001 0x000000FF
    WAIT 0x5
    
  SimioAddr:  g_JtagSimioAccess
  FreezeTimers:  y
  AllowMmuSetup:  y
  ExecOnStartCmds:  n
  OnStartScript Script:
    
  ExecOnHaltCmds:  n
  ExecOnHaltCmdsWhileHalted:  n
  OnHaltScript Script:
    
  EnableProgramTimeMeasurement:  n
  TimerForPTM:  Default
  DefUserStreamChannel:  0
  DontUseCachedRegisters:  n
  AllowBreakOnUpdateBreakpoints:  n
  ClearDebugStatusOnHalt:  y
  UseRestartWhileRunningHandling:  n
  UseNexus:  y
  DoSramInit:  y
  ForceCacheFlush:  y
  IgnoreLockedLines:  n
  HandleWdtBug:  n
  ForceEndOfReset:  n
  UseHwResetMode:  n
  HwResetMode:  Simulate
  HandleNexusAccessBug:  n
  UseMasterNexusIfResetState:  y
  UseLocalAddressTranslation:  y
  Use64BitNexus:  n
  InitSramOnlyWhenNotInitialized:  n
  InvalidTlbOnReset:  y
  DoNotEnableTrapSwBrp:  n
  AllowResetOnCheck:  y
  BootPasswd0:  0xFEEDFACE
  BootPasswd1:  0xCAFEBEEF
  BootPasswd2:  0xFFFFFFFF
  BootPasswd3:  0xFFFFFFFF
  BootPasswd4:  0xFFFFFFFF
  BootPasswd5:  0xFFFFFFFF
  BootPasswd6:  0xFFFFFFFF
  BootPasswd7:  0xFFFFFFFF
  DisableE2EECC:  n
  IsUsedByTester:  n
  Mpc57xxClearPeripheralDebugAtNextCheckUserAppWhenRunning:  n

JTAG target infos:
  JTAG-ID:           0x00000000
  UsedJtagClk:       0 kHz
  ExtVoltage:        3276.7 V
  IntVoltageUsed:    y

Target infos:
  CoreName:  Core
  FullCoreName:  Controller0.Core
  ExtClock:  8000000
  IntClock:  120000000
  SysClock:  0
  HasNexus:  n
  BigEndian:  n
  CanSimio:  n
  CanPhysicalAccess:  n
  HasSpe:  n
  NumOfSimioChannels:  2157080748
  JtagId:  0x00000000
  IsEarlyStep:  n
  IsMaster:  y
  MasterCoreName:  
  IsMasterEnabled:  y
  IsSlave:  n
  BuddyDeviceDetected:  n
  EtkConnected:  n
  Data TLB size on target:  0x00000000
  Instruction TLB size on target:  0x00000000
  Shared TLB size on target:  0x00000000
  Number of data TLB entries:  0x00000000
  Number of instruction TLB entries:  0x00000000
  Number of shared TLB entries:  0x00000000
  Extended E200 MMU:  n
  E200 MPU:  n
  Data cache size:  0x00000000
  Data cache ways:  0x00000000
  Data cache sets:  0x00000000
  Data cache entry size:  0x00000000
  Instruction cache size:  0x00000000
  Instruction cache ways:  0x00000000
  Instruction cache sets:  0x00000000
  Instruction cache entry size:  0x00000000
  Unified Cache:  n
  MCM base address:  0xFFF40000
  SIU base address:  0xC3F90000
  Nexus On Slave:  n
  Core Number:  0
  Has Wdt bug:  n
  Length of IR register:  0x00000005
  Has Data Value comparators:  y
  Reset Mode:  0x00000002
  STM timer base address:  0xFFF3C000
  MC_ME base address:  0xC3FDC000
  Core in Lockstep mode:  n
  Core in DPM mode:  n
  Core is HSM:  n
  Target has Nexus access bug:  n
  Target has unlock JTAG capability:  y
  Unlock JTAG password len:  0x00000040
  Has JTAG unlock enable bit:  n
  ExecuteOpcodeAddr:  0xFFFFC000
  IMEMBaseAddr:  0xFFFFFFFF
  IMEMSize:  0x00000000
  DMEMBaseAddr:  0xFFFFFFFF
  DMEMSize:  0x00000000
  BootCodeStartAddr:  0xFFFFFFFC
  HasCJtag:  n
  ChipJtagTapNumber:  0x00000000
  ChipJtagTapNumber:  0x00000001
  ChipJtagTapNumber:  0x00000000
  ChipJtagTapNumber:  0x00000000
  JtagChainType:  UNKNOWN
  JtagChainNumber:  0x00000000
  PowerPc system type:  MPC56XX
  PowerPc synchonized GO type:  NONE
  InactiveAfterReset:  n

Communication device:
  Type/Firmware:  UAD2
  Serial Number:  326060

Communication protocol handler:
  LastCmd:      0x0410
  LastResult:   0xC023
  ExpBytes:     576 (0x0240)
  RetBytes:     576 (0x0240)
  LastTimeout:  120020

Protocol diagnostic output:
  LastJtagApiAddr:   0x00000000
  LastJtagApiSpr:    0x00000000
  LastJtagApiDcr:    0x00000000
  LastJtagApiError:  0x00000000
  LastJtagApiStatus: 0x00000000
  JtagApiErrorLine:  3913
  JtagApiAddInfo0:   0x00000000
  JtagApiAddInfo1:   0x00000000
  ProtErrorLine:     926
